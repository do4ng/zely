// This file was automatically generated by prext.

const prext = require('prext');

async function main() {
  // config
  const config = {
    ...(await prext.getConfig()),
  };

  // server
  const server = await prext.Prext(config);

  // port
  const port = config.port || 3000;

  // generate cache files

  await prext.getPages(config);

  server.listen(port, () => {
    console.log('preview server is running.'.gray);

    // show url
    prext.showListen(port);
  });
}

// main

main();
